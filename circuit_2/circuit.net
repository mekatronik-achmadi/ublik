(export (version D)
  (design
    (source /home/achmadi/development/Projects/ublik/circuit_2/circuit.sch)
    (date "Tue 20 Sep 2016 09:29:27 PM WIB")
    (tool "Eeschema 4.0.1-stable")
    (sheet (number 1) (name /) (tstamps /)
      (title_block
        (title)
        (company)
        (rev)
        (date)
        (source circuit.sch)
        (comment (number 1) (value ""))
        (comment (number 2) (value ""))
        (comment (number 3) (value ""))
        (comment (number 4) (value "")))))
  (components
    (comp (ref STM32)
      (value STM32F100C4)
      (footprint Housings_QFP:TQFP-48_7x7mm_Pitch0.5mm)
      (libsource (lib circuit-cache) (part STM32F100C4))
      (sheetpath (names /) (tstamps /))
      (tstamp 57223766))
    (comp (ref P-BOOT1)
      (value CONN_01X02)
      (footprint Pin_Headers:Pin_Header_Straight_1x02)
      (libsource (lib conn) (part CONN_01X02))
      (sheetpath (names /) (tstamps /))
      (tstamp 57223BC1))
    (comp (ref SW-NRST1)
      (value 10-XX_B3F-10XX)
      (footprint switch-omron:B3F-10XX)
      (libsource (lib circuit-cache) (part 10-XX_B3F-10XX))
      (sheetpath (names /) (tstamps /))
      (tstamp 572241EA))
    (comp (ref R-NRST1)
      (value 4k7)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 572243E5))
    (comp (ref P-COMM1)
      (value CONN_01X04)
      (footprint Pin_Headers:Pin_Header_Straight_1x04)
      (libsource (lib conn) (part CONN_01X04))
      (sheetpath (names /) (tstamps /))
      (tstamp 5722554F))
    (comp (ref R-L-OUT1)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 572312FA))
    (comp (ref L-OUT1)
      (value LED)
      (footprint LEDs:LED-0805)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 5723143D))
    (comp (ref R-L1)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 5723338F))
    (comp (ref R-L2)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 57233395))
    (comp (ref L1)
      (value LED)
      (footprint LEDs:LED-0805)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 5723339B))
    (comp (ref L2)
      (value LED)
      (footprint LEDs:LED-0805)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 572333A1))
    (comp (ref R-L3)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 572335C2))
    (comp (ref R-L4)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 572335C8))
    (comp (ref L3)
      (value LED)
      (footprint LEDs:LED-0805)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 572335CE))
    (comp (ref L4)
      (value LED)
      (footprint LEDs:LED-0805)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 572335D4))
    (comp (ref R-L-PV1)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 5723511C))
    (comp (ref L-PV1)
      (value LED)
      (footprint LEDs:LED-0805)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 57235122))
    (comp (ref BATT1)
      (value M02PTH)
      (footprint SparkFun:SparkFun-1X02_XTRA_BIG)
      (libsource (lib circuit-cache) (part M02PTH))
      (sheetpath (names /) (tstamps /))
      (tstamp 57245F1D))
    (comp (ref BATT2)
      (value M02PTH)
      (footprint SparkFun:SparkFun-1X02_XTRA_BIG)
      (libsource (lib circuit-cache) (part M02PTH))
      (sheetpath (names /) (tstamps /))
      (tstamp 5724648D))
    (comp (ref BATT3)
      (value M02PTH)
      (footprint SparkFun:SparkFun-1X02_XTRA_BIG)
      (libsource (lib circuit-cache) (part M02PTH))
      (sheetpath (names /) (tstamps /))
      (tstamp 57246521))
    (comp (ref BATT4)
      (value M02PTH)
      (footprint SparkFun:SparkFun-1X02_XTRA_BIG)
      (libsource (lib circuit-cache) (part M02PTH))
      (sheetpath (names /) (tstamps /))
      (tstamp 572467F8))
    (comp (ref R-ADC-BATT1)
      (value 470k)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 572475F2))
    (comp (ref R-ADC-BATT2)
      (value 100k)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 57247635))
    (comp (ref C-ADC-BATT1)
      (value 100n)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 57248181))
    (comp (ref CON-PV1)
      (value BARREL_JACK)
      (footprint Connect:JACK_ALIM)
      (libsource (lib conn) (part BARREL_JACK))
      (sheetpath (names /) (tstamps /))
      (tstamp 57270980))
    (comp (ref R-PV2)
      (value 10k)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 57270CE4))
    (comp (ref R-PV1)
      (value 4k7)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 572737A6))
    (comp (ref OK-PV1)
      (value PC817)
      (footprint Housings_DIP:DIP-4_W7.62mm)
      (libsource (lib opto) (part PC817))
      (sheetpath (names /) (tstamps /))
      (tstamp 572705B6))
    (comp (ref OK-PV2)
      (value PC817)
      (footprint Housings_DIP:DIP-4_W7.62mm)
      (libsource (lib opto) (part PC817))
      (sheetpath (names /) (tstamps /))
      (tstamp 5727AD7D))
    (comp (ref TR-PV1)
      (value IRF9530_TO220BV)
      (footprint d2pack_fet:D2PACK)
      (libsource (lib transistor-power) (part IRF9530_TO220BV))
      (sheetpath (names /) (tstamps /))
      (tstamp 5727B172))
    (comp (ref R-PV3)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 5727D521))
    (comp (ref R-PV4)
      (value 4k7)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 5727E382))
    (comp (ref D-PV1)
      (value D)
      (footprint Diodes_SMD:SMA_Handsoldering)
      (libsource (lib device) (part D))
      (sheetpath (names /) (tstamps /))
      (tstamp 5727E9F0))
    (comp (ref OK-OUT1)
      (value PC817)
      (footprint Housings_DIP:DIP-4_W7.62mm)
      (libsource (lib opto) (part PC817))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728A1BE))
    (comp (ref R-OUT1)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728A55F))
    (comp (ref R-OUT2)
      (value 4k7)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728A730))
    (comp (ref D-OUT1)
      (value D)
      (footprint Diodes_SMD:SMA_Handsoldering)
      (libsource (lib device) (part D))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728ACB0))
    (comp (ref D-VDD1)
      (value D)
      (footprint Diodes_SMD:SMA_Handsoldering)
      (libsource (lib device) (part D))
      (sheetpath (names /) (tstamps /))
      (tstamp 572900CB))
    (comp (ref U1)
      (value MIC5219BM5_SOT23-5)
      (footprint TO_SOT_Packages_SMD:SOT-23-5)
      (libsource (lib circuit-cache) (part MIC5219BM5_SOT23-5-RESCUE-circuit))
      (sheetpath (names /) (tstamps /))
      (tstamp 57274EE9))
    (comp (ref P-VDD-3V3)
      (value CONN_01X02)
      (footprint Pin_Headers:Pin_Header_Straight_1x02)
      (libsource (lib conn) (part CONN_01X02))
      (sheetpath (names /) (tstamps /))
      (tstamp 57277B40))
    (comp (ref IC-VOUT1)
      (value LM2596S)
      (footprint TO_SOT_Packages_SMD:TO-263-5Lead)
      (libsource (lib circuit-cache) (part LM2596S))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728232E))
    (comp (ref C-OUT1)
      (value 100u)
      (footprint Capacitors_ThroughHole:C_Radial_D5_L6_P2.5)
      (libsource (lib device) (part CP))
      (sheetpath (names /) (tstamps /))
      (tstamp 57282862))
    (comp (ref D-VOUT1)
      (value D_Schottky)
      (footprint Diodes_SMD:SMA_Handsoldering)
      (libsource (lib device) (part D_Schottky))
      (sheetpath (names /) (tstamps /))
      (tstamp 57285A32))
    (comp (ref L-VOUT1)
      (value INDUCTOR)
      (footprint Inductors:INDUCTOR_V)
      (libsource (lib device) (part INDUCTOR))
      (sheetpath (names /) (tstamps /))
      (tstamp 572864AA))
    (comp (ref C_VOUT1)
      (value 100u)
      (footprint Capacitors_ThroughHole:C_Radial_D5_L6_P2.5)
      (libsource (lib device) (part CP))
      (sheetpath (names /) (tstamps /))
      (tstamp 57286E91))
    (comp (ref D-OUT2)
      (value 5v1)
      (footprint Diodes_SMD:MELF_Handsoldering)
      (libsource (lib device) (part ZENER))
      (sheetpath (names /) (tstamps /))
      (tstamp 572878A5))
    (comp (ref D-VOUT2)
      (value D_Schottky)
      (footprint Diodes_SMD:SMA_Handsoldering)
      (libsource (lib device) (part D_Schottky))
      (sheetpath (names /) (tstamps /))
      (tstamp 572893C5))
    (comp (ref P-OUT1)
      (value USB_A)
      (footprint Connect:USB_A)
      (libsource (lib conn) (part USB_A))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728A075))
    (comp (ref PIN1)
      (value CONN_01X03)
      (footprint Pin_Headers:Pin_Header_Straight_1x03)
      (libsource (lib conn) (part CONN_01X03))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728A321))
    (comp (ref PIN2)
      (value CONN_01X08)
      (footprint Pin_Headers:Pin_Header_Straight_1x08)
      (libsource (lib conn) (part CONN_01X08))
      (sheetpath (names /) (tstamps /))
      (tstamp 5728FBF5))
    (comp (ref P-VDD1)
      (value CONN_01X02)
      (footprint Pin_Headers:Pin_Header_Straight_1x02)
      (libsource (lib conn) (part CONN_01X02))
      (sheetpath (names /) (tstamps /))
      (tstamp 572910E3))
    (comp (ref P-GND1)
      (value CONN_01X02)
      (footprint Pin_Headers:Pin_Header_Straight_1x02)
      (libsource (lib conn) (part CONN_01X02))
      (sheetpath (names /) (tstamps /))
      (tstamp 57291383))
    (comp (ref R-BOOT0)
      (value 4k7)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 57632DBF))
    (comp (ref C_VREG1)
      (value 100u)
      (footprint Capacitors_ThroughHole:C_Radial_D5_L6_P2.5)
      (libsource (lib device) (part CP))
      (sheetpath (names /) (tstamps /))
      (tstamp 5763D083))
    (comp (ref D-PV2)
      (value D)
      (footprint Diodes_SMD:SMA_Handsoldering)
      (libsource (lib device) (part D))
      (sheetpath (names /) (tstamps /))
      (tstamp 5764637C))
    (comp (ref D-VREG1)
      (value D)
      (footprint Diodes_SMD:SMA_Handsoldering)
      (libsource (lib device) (part D))
      (sheetpath (names /) (tstamps /))
      (tstamp 5767887B))
    (comp (ref P-OUT2)
      (value USB_A)
      (footprint Connect:USB_A)
      (libsource (lib conn) (part USB_A))
      (sheetpath (names /) (tstamps /))
      (tstamp 57DBEE46))
    (comp (ref L-IND1)
      (value LED)
      (footprint LEDs:LED-0805)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 57284429))
    (comp (ref R-L-IND1)
      (value 330)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 57284423))
    (comp (ref PIN4)
      (value CONN_01X05)
      (footprint Pin_Headers:Pin_Header_Straight_1x05)
      (libsource (lib conn) (part CONN_01X05))
      (sheetpath (names /) (tstamps /))
      (tstamp 57DD47B3))
    (comp (ref R-ADC-STM1)
      (value 470k)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 57DE10E8))
    (comp (ref R-ADC-STM2)
      (value 100k)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 57DE10EE))
    (comp (ref C-ADC-STM1)
      (value 100n)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 57DE10FA))
    (comp (ref PIN3)
      (value CONN_01X03)
      (footprint Pin_Headers:Pin_Header_Straight_1x03)
      (libsource (lib conn) (part CONN_01X03))
      (sheetpath (names /) (tstamps /))
      (tstamp 57DE5C32)))
  (libparts
    (libpart (lib circuit-cache) (part 10-XX_B3F-10XX)
      (footprints
        (fp B3F-10XX))
      (fields
        (field (name Reference) U)
        (field (name Value) 10-XX_B3F-10XX))
      (pins
        (pin (num 1) (name S) (type passive))
        (pin (num 2) (name S1) (type passive))
        (pin (num 3) (name P) (type passive))
        (pin (num 4) (name P1) (type passive))))
    (libpart (lib conn) (part BARREL_JACK)
      (description "DCÂ Barrel Jack")
      (fields
        (field (name Reference) CON)
        (field (name Value) BARREL_JACK))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))
        (pin (num 3) (name ~) (type passive))))
    (libpart (lib device) (part C)
      (description "Unpolarized capacitor")
      (footprints
        (fp C?)
        (fp C_????_*)
        (fp C_????)
        (fp SMD*_c)
        (fp Capacitor*))
      (fields
        (field (name Reference) C)
        (field (name Value) C))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib conn) (part CONN_01X02)
      (description "Connector 01x02")
      (footprints
        (fp Pin_Header_Straight_1X02)
        (fp Pin_Header_Angled_1X02)
        (fp Socket_Strip_Straight_1X02)
        (fp Socket_Strip_Angled_1X02))
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_01X02))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))))
    (libpart (lib conn) (part CONN_01X03)
      (description "Connector 01x03")
      (footprints
        (fp Pin_Header_Straight_1X03)
        (fp Pin_Header_Angled_1X03)
        (fp Socket_Strip_Straight_1X03)
        (fp Socket_Strip_Angled_1X03))
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_01X03))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))))
    (libpart (lib conn) (part CONN_01X04)
      (description "Connector 01x04")
      (footprints
        (fp Pin_Header_Straight_1X04)
        (fp Pin_Header_Angled_1X04)
        (fp Socket_Strip_Straight_1X04)
        (fp Socket_Strip_Angled_1X04))
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_01X04))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))
        (pin (num 4) (name P4) (type passive))))
    (libpart (lib conn) (part CONN_01X05)
      (description "Connector 01x05")
      (footprints
        (fp Pin_Header_Straight_1X05)
        (fp Pin_Header_Angled_1X05)
        (fp Socket_Strip_Straight_1X05)
        (fp Socket_Strip_Angled_1X05))
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_01X05))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))
        (pin (num 4) (name P4) (type passive))
        (pin (num 5) (name P5) (type passive))))
    (libpart (lib conn) (part CONN_01X08)
      (description "Connector 01x08")
      (footprints
        (fp Pin_Header_Straight_1X08)
        (fp Pin_Header_Angled_1X08)
        (fp Socket_Strip_Straight_1X08)
        (fp Socket_Strip_Angled_1X08))
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_01X08))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))
        (pin (num 4) (name P4) (type passive))
        (pin (num 5) (name P5) (type passive))
        (pin (num 6) (name P6) (type passive))
        (pin (num 7) (name P7) (type passive))
        (pin (num 8) (name P8) (type passive))))
    (libpart (lib device) (part CP)
      (description "Polarised capacitor")
      (footprints
        (fp CP*)
        (fp Elko*)
        (fp TantalC*)
        (fp C*elec)
        (fp c_elec*)
        (fp SMD*_Pol))
      (fields
        (field (name Reference) C)
        (field (name Value) CP))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib device) (part D)
      (description Diode)
      (footprints
        (fp Diode_*)
        (fp D-Pak_TO252AA)
        (fp *SingleDiode)
        (fp *_Diode_*)
        (fp *SingleDiode*))
      (fields
        (field (name Reference) D)
        (field (name Value) D))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive))))
    (libpart (lib device) (part D_Schottky)
      (description "Diode schottky")
      (footprints
        (fp D-Pak_TO252AA)
        (fp Diode_*)
        (fp *SingleDiode)
        (fp *SingleDiode*)
        (fp *_Diode_*))
      (fields
        (field (name Reference) D)
        (field (name Value) D_Schottky))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive))))
    (libpart (lib device) (part INDUCTOR)
      (fields
        (field (name Reference) L)
        (field (name Value) INDUCTOR))
      (pins
        (pin (num 1) (name 1) (type passive))
        (pin (num 2) (name 2) (type passive))))
    (libpart (lib transistor-power) (part IRF9530_TO220BV)
      (footprints
        (fp TO220BV))
      (fields
        (field (name Reference) U)
        (field (name Value) IRF9530_TO220BV))
      (pins
        (pin (num D) (name D) (type passive))
        (pin (num G) (name G) (type passive))
        (pin (num S) (name S) (type passive))))
    (libpart (lib device) (part LED)
      (footprints
        (fp LED-3MM)
        (fp LED-5MM)
        (fp LED-10MM)
        (fp LED-0603)
        (fp LED-0805)
        (fp LED-1206)
        (fp LEDV))
      (fields
        (field (name Reference) D)
        (field (name Value) LED))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive))))
    (libpart (lib circuit-cache) (part LM2596S)
      (fields
        (field (name Reference) IC)
        (field (name Value) LM2596S)
        (field (name Footprint) linear2-TO263-5))
      (pins
        (pin (num 1) (name IN) (type input))
        (pin (num 2) (name OUT) (type output))
        (pin (num 3) (name GND) (type power_in))
        (pin (num 4) (name FB) (type input))
        (pin (num 5) (name EN) (type input))
        (pin (num 6) (name GND@1) (type power_in))))
    (libpart (lib circuit-cache) (part M02PTH)
      (fields
        (field (name Reference) JP)
        (field (name Value) M02PTH)
        (field (name Footprint) SparkFun-1X02))
      (pins
        (pin (num 1) (name 1) (type passive))
        (pin (num 2) (name 2) (type passive))))
    (libpart (lib circuit-cache) (part MIC5219BM5_SOT23-5-RESCUE-circuit)
      (footprints
        (fp SOT23-5))
      (fields
        (field (name Reference) U)
        (field (name Value) MIC5219BM5_SOT23-5-RESCUE-circuit))
      (pins
        (pin (num 1) (name IN) (type input))
        (pin (num 2) (name GND) (type power_in))
        (pin (num 3) (name EN) (type input))
        (pin (num 4) (name BYP) (type passive))
        (pin (num 5) (name OUT) (type output))))
    (libpart (lib opto) (part PC817)
      (description "DIP4, DC Optocoupler, Vce 35V, CTR 50-300%")
      (docs http://www.soselectronic.cz/a_info/resource/d/pc817.pdf)
      (fields
        (field (name Reference) U)
        (field (name Value) PC817)
        (field (name Footprint) DIP-4))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))
        (pin (num 3) (name ~) (type passive))
        (pin (num 4) (name ~) (type passive))))
    (libpart (lib device) (part R)
      (description Resistor)
      (footprints
        (fp R_*)
        (fp Resistor_*))
      (fields
        (field (name Reference) R)
        (field (name Value) R))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib circuit-cache) (part STM32F100C4)
      (aliases
        (alias STM32F100C6))
      (fields
        (field (name Reference) U)
        (field (name Value) STM32F100C4)
        (field (name Footprint) LQFP48))
      (pins
        (pin (num 1) (name VBAT) (type power_in))
        (pin (num 2) (name PC13/TAMPER_RTC) (type BiDi))
        (pin (num 3) (name PC14/OSC32_IN) (type BiDi))
        (pin (num 4) (name PC15/OSC32_OUT) (type BiDi))
        (pin (num 5) (name OSC_IN) (type input))
        (pin (num 6) (name OSC_OUT) (type output))
        (pin (num 7) (name ~NRST) (type input))
        (pin (num 8) (name VSSA) (type power_in))
        (pin (num 9) (name VDDA) (type power_in))
        (pin (num 10) (name WKUP/USART2_CTS/ADC1_IN0/TIM2_CH1_ETR/PA0) (type BiDi))
        (pin (num 11) (name USART2_RTS/ADC1_IN1/TIM2_CH2/PA1) (type BiDi))
        (pin (num 12) (name USART2_TX/ADC1_IN2/TIM2_CH3/TIM15_CH1/PA2) (type BiDi))
        (pin (num 13) (name USART2_RX/ADC1_IN3/TIM2_CH4/TIM15_CH2/PA3) (type BiDi))
        (pin (num 14) (name SPI1_NSS/ADC1_IN4/USART2_CK/DAC1_OUT/PA4) (type BiDi))
        (pin (num 15) (name SPI1_SCK/ADC1_IN5/DAC2_OUT/PA5) (type BiDi))
        (pin (num 16) (name SPI1_MISO/ADC1_IN6/TIM3_CH1/PA6) (type BiDi))
        (pin (num 17) (name SPI1_MOSI/ADC1_IN7/TIM3_CH2/PA7) (type BiDi))
        (pin (num 18) (name PB0/ADC1_IN8/TIM3_CH3) (type BiDi))
        (pin (num 19) (name PB1/ADC1_IN9/TIM3_CH4) (type BiDi))
        (pin (num 20) (name PB2/BOOT1) (type BiDi))
        (pin (num 21) (name PB10) (type BiDi))
        (pin (num 22) (name PB11) (type BiDi))
        (pin (num 23) (name VSS) (type power_in))
        (pin (num 24) (name VDD) (type power_in))
        (pin (num 25) (name PB12/TIM1_BKIN) (type BiDi))
        (pin (num 26) (name PB13/TIM1_CH1N) (type BiDi))
        (pin (num 27) (name PB14/TIM1_CH2N) (type BiDi))
        (pin (num 28) (name PB15/TIM1_CH3N/TIM15_CH1N) (type BiDi))
        (pin (num 29) (name USART1_CK/MCO/TIM1_CH1/PA8) (type BiDi))
        (pin (num 30) (name USART1_TX/TIM1_CH2/TIM15_BKIN/PA9) (type BiDi))
        (pin (num 31) (name USART1_RX/TIM1_CH3/TIM17_BKIN/PA10) (type BiDi))
        (pin (num 32) (name USART1_CTS/TIM1_CH4/PA11) (type BiDi))
        (pin (num 33) (name USART1_RTS/TIM1_ETR/PA12) (type BiDi))
        (pin (num 34) (name JTMS/SWDIO/PA13) (type BiDi))
        (pin (num 35) (name VSS) (type power_in))
        (pin (num 36) (name VDD) (type power_in))
        (pin (num 37) (name JTCK/SWCLK/PA14) (type BiDi))
        (pin (num 38) (name JTDI/PA15) (type BiDi))
        (pin (num 39) (name PB3/JTDO) (type BiDi))
        (pin (num 40) (name PB4/NJRST) (type BiDi))
        (pin (num 41) (name PB5/I2C1_SMBA/TIM16_BKIN) (type BiDi))
        (pin (num 42) (name PB6/I2C1_SCL/TIM16_CH1N) (type BiDi))
        (pin (num 43) (name PB7/I2C1_SDA/TIM17_CH1N) (type BiDi))
        (pin (num 44) (name BOOT0) (type input))
        (pin (num 45) (name PB8/TIM4_CH3/TIM16_CH1/CEC) (type BiDi))
        (pin (num 46) (name PB9/TIM4_CH4/TIM17_CH1) (type BiDi))
        (pin (num 47) (name VSS) (type power_in))
        (pin (num 48) (name VDD) (type power_in))))
    (libpart (lib conn) (part USB_A)
      (description "A connector")
      (footprints
        (fp USB*))
      (fields
        (field (name Reference) P)
        (field (name Value) USB_A))
      (pins
        (pin (num 1) (name VCC) (type power_in))
        (pin (num 2) (name D-) (type passive))
        (pin (num 3) (name D+) (type passive))
        (pin (num 4) (name GND) (type power_in))
        (pin (num 5) (name shield) (type passive))))
    (libpart (lib device) (part ZENER)
      (description "Diode zener")
      (footprints
        (fp D?)
        (fp SO*)
        (fp SM*))
      (fields
        (field (name Reference) D)
        (field (name Value) ZENER))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive)))))
  (libraries
    (library (logical conn)
      (uri /usr/share/kicad/library/conn.lib))
    (library (logical device)
      (uri /usr/share/kicad/library/device.lib))
    (library (logical opto)
      (uri /usr/share/kicad/library/opto.lib))
    (library (logical transistor-power)
      (uri /usr/share/kicad/eagle-lbr-imported/eagle/lib/transistor-power.lib))
    (library (logical circuit-cache)
      (uri /home/achmadi/development/Projects/ublik/circuit_2/circuit-cache.lib)))
  (nets
    (net (code 1) (name /TX)
      (node (ref P-COMM1) (pin 4))
      (node (ref STM32) (pin 30)))
    (net (code 2) (name /RX)
      (node (ref P-COMM1) (pin 3))
      (node (ref STM32) (pin 31)))
    (net (code 3) (name "Net-(L-OUT1-Pad2)")
      (node (ref L-OUT1) (pin 2))
      (node (ref R-L-OUT1) (pin 1)))
    (net (code 4) (name /L-OUT)
      (node (ref R-L-OUT1) (pin 2))
      (node (ref STM32) (pin 45)))
    (net (code 5) (name /ADC_OUT)
      (node (ref P-OUT2) (pin 4))
      (node (ref P-OUT2) (pin 5))
      (node (ref P-OUT1) (pin 5))
      (node (ref STM32) (pin 13))
      (node (ref D-VOUT2) (pin 2))
      (node (ref P-OUT1) (pin 4)))
    (net (code 6) (name /L-L1)
      (node (ref R-L1) (pin 2))
      (node (ref STM32) (pin 43)))
    (net (code 7) (name /L-L2)
      (node (ref STM32) (pin 42))
      (node (ref R-L2) (pin 2)))
    (net (code 8) (name /L-L3)
      (node (ref R-L3) (pin 2))
      (node (ref STM32) (pin 41)))
    (net (code 9) (name /L-L4)
      (node (ref STM32) (pin 40))
      (node (ref R-L4) (pin 2)))
    (net (code 10) (name /L-PV)
      (node (ref R-L-PV1) (pin 2))
      (node (ref STM32) (pin 39)))
    (net (code 11) (name "Net-(L1-Pad2)")
      (node (ref L1) (pin 2))
      (node (ref R-L1) (pin 1)))
    (net (code 12) (name "Net-(L2-Pad2)")
      (node (ref L2) (pin 2))
      (node (ref R-L2) (pin 1)))
    (net (code 13) (name /NRST)
      (node (ref R-NRST1) (pin 2))
      (node (ref STM32) (pin 7))
      (node (ref SW-NRST1) (pin 2))
      (node (ref SW-NRST1) (pin 1)))
    (net (code 14) (name /BOOT0)
      (node (ref STM32) (pin 44))
      (node (ref R-BOOT0) (pin 1))
      (node (ref P-BOOT1) (pin 2)))
    (net (code 15) (name /IND_PV_WKUP)
      (node (ref STM32) (pin 10))
      (node (ref R-PV1) (pin 1))
      (node (ref OK-PV1) (pin 3)))
    (net (code 16) (name /ADC_BATT)
      (node (ref STM32) (pin 11))
      (node (ref R-ADC-BATT1) (pin 2))
      (node (ref C-ADC-BATT1) (pin 1))
      (node (ref R-ADC-BATT2) (pin 1)))
    (net (code 17) (name +15V)
      (node (ref BATT1) (pin 2))
      (node (ref D-PV1) (pin 1))
      (node (ref R-ADC-BATT1) (pin 1))
      (node (ref D-OUT1) (pin 2)))
    (net (code 18) (name +24V)
      (node (ref D-PV2) (pin 1))
      (node (ref OK-PV2) (pin 4))
      (node (ref R-PV2) (pin 1))
      (node (ref TR-PV1) (pin S)))
    (net (code 19) (name "Net-(OK-PV1-Pad1)")
      (node (ref R-PV2) (pin 2))
      (node (ref OK-PV1) (pin 1)))
    (net (code 20) (name "Net-(L-PV1-Pad2)")
      (node (ref R-L-PV1) (pin 1))
      (node (ref L-PV1) (pin 2)))
    (net (code 21) (name "Net-(L3-Pad2)")
      (node (ref L3) (pin 2))
      (node (ref R-L3) (pin 1)))
    (net (code 22) (name "Net-(L4-Pad2)")
      (node (ref L4) (pin 2))
      (node (ref R-L4) (pin 1)))
    (net (code 23) (name "Net-(BATT1-Pad1)")
      (node (ref BATT1) (pin 1))
      (node (ref BATT2) (pin 2)))
    (net (code 24) (name VDD)
      (node (ref STM32) (pin 24))
      (node (ref STM32) (pin 36))
      (node (ref D-VDD1) (pin 1))
      (node (ref R-NRST1) (pin 1))
      (node (ref OK-PV1) (pin 4))
      (node (ref P-VDD-3V3) (pin 1))
      (node (ref R-OUT2) (pin 1))
      (node (ref STM32) (pin 48))
      (node (ref P-COMM1) (pin 1))
      (node (ref STM32) (pin 1))
      (node (ref P-BOOT1) (pin 1))
      (node (ref P-VDD1) (pin 1))
      (node (ref P-VDD1) (pin 2)))
    (net (code 25) (name GND)
      (node (ref STM32) (pin 20))
      (node (ref L-PV1) (pin 1))
      (node (ref L-OUT1) (pin 1))
      (node (ref L1) (pin 1))
      (node (ref P-COMM1) (pin 2))
      (node (ref STM32) (pin 47))
      (node (ref R-ADC-BATT2) (pin 2))
      (node (ref U1) (pin 2))
      (node (ref OK-PV1) (pin 2))
      (node (ref R-PV1) (pin 2))
      (node (ref OK-PV2) (pin 2))
      (node (ref C-ADC-BATT1) (pin 2))
      (node (ref CON-PV1) (pin 2))
      (node (ref CON-PV1) (pin 3))
      (node (ref BATT4) (pin 1))
      (node (ref L2) (pin 1))
      (node (ref R-PV4) (pin 2))
      (node (ref L3) (pin 1))
      (node (ref L4) (pin 1))
      (node (ref STM32) (pin 23))
      (node (ref STM32) (pin 35))
      (node (ref STM32) (pin 8))
      (node (ref OK-OUT1) (pin 2))
      (node (ref SW-NRST1) (pin 3))
      (node (ref SW-NRST1) (pin 4))
      (node (ref R-ADC-STM2) (pin 2))
      (node (ref L-IND1) (pin 1))
      (node (ref C-ADC-STM1) (pin 2))
      (node (ref P-GND1) (pin 2))
      (node (ref P-GND1) (pin 1))
      (node (ref R-BOOT0) (pin 2))
      (node (ref C_VREG1) (pin 2)))
    (net (code 26) (name "Net-(CON-PV1-Pad1)")
      (node (ref CON-PV1) (pin 1))
      (node (ref D-PV2) (pin 2)))
    (net (code 27) (name /PB10)
      (node (ref STM32) (pin 21))
      (node (ref PIN2) (pin 7)))
    (net (code 28) (name /PB11)
      (node (ref STM32) (pin 22))
      (node (ref PIN2) (pin 8)))
    (net (code 29) (name /AIN4)
      (node (ref STM32) (pin 14))
      (node (ref PIN2) (pin 1)))
    (net (code 30) (name /AIN5)
      (node (ref PIN2) (pin 2))
      (node (ref STM32) (pin 15)))
    (net (code 31) (name /AIN6)
      (node (ref STM32) (pin 16))
      (node (ref PIN2) (pin 3)))
    (net (code 32) (name /AIN7)
      (node (ref PIN2) (pin 4))
      (node (ref STM32) (pin 17)))
    (net (code 33) (name /AIN8)
      (node (ref STM32) (pin 18))
      (node (ref PIN2) (pin 5)))
    (net (code 34) (name /AIN9)
      (node (ref STM32) (pin 19))
      (node (ref PIN2) (pin 6)))
    (net (code 35) (name /PA14)
      (node (ref STM32) (pin 37))
      (node (ref PIN4) (pin 4)))
    (net (code 36) (name /PA15)
      (node (ref STM32) (pin 38))
      (node (ref PIN4) (pin 5)))
    (net (code 37) (name /ADC_STM)
      (node (ref STM32) (pin 12))
      (node (ref R-ADC-STM1) (pin 2))
      (node (ref R-ADC-STM2) (pin 1))
      (node (ref C-ADC-STM1) (pin 1)))
    (net (code 38) (name +3V3)
      (node (ref D-VREG1) (pin 1))
      (node (ref P-VDD-3V3) (pin 2))
      (node (ref C_VREG1) (pin 1))
      (node (ref STM32) (pin 9)))
    (net (code 39) (name "Net-(P-OUT2-Pad2)")
      (node (ref P-OUT2) (pin 2)))
    (net (code 40) (name "Net-(P-OUT2-Pad3)")
      (node (ref P-OUT2) (pin 3)))
    (net (code 41) (name "Net-(L-IND1-Pad2)")
      (node (ref L-IND1) (pin 2))
      (node (ref R-L-IND1) (pin 1)))
    (net (code 42) (name /L-IND)
      (node (ref STM32) (pin 46))
      (node (ref R-L-IND1) (pin 2)))
    (net (code 43) (name /PB15)
      (node (ref STM32) (pin 28))
      (node (ref PIN3) (pin 2)))
    (net (code 44) (name /PA8)
      (node (ref PIN3) (pin 3))
      (node (ref STM32) (pin 29)))
    (net (code 45) (name /PA11)
      (node (ref PIN4) (pin 1))
      (node (ref STM32) (pin 32)))
    (net (code 46) (name /PA12)
      (node (ref STM32) (pin 33))
      (node (ref PIN4) (pin 2)))
    (net (code 47) (name /PA13)
      (node (ref PIN4) (pin 3))
      (node (ref STM32) (pin 34)))
    (net (code 48) (name /PB14)
      (node (ref PIN3) (pin 1))
      (node (ref STM32) (pin 27)))
    (net (code 49) (name "Net-(C-OUT1-Pad1)")
      (node (ref C-OUT1) (pin 1))
      (node (ref IC-VOUT1) (pin 1))
      (node (ref D-OUT1) (pin 1)))
    (net (code 50) (name "Net-(D-VREG1-Pad2)")
      (node (ref D-VREG1) (pin 2))
      (node (ref U1) (pin 5)))
    (net (code 51) (name "Net-(BATT3-Pad1)")
      (node (ref BATT4) (pin 2))
      (node (ref BATT3) (pin 1))
      (node (ref D-VDD1) (pin 2)))
    (net (code 52) (name "Net-(OK-PV2-Pad1)")
      (node (ref R-PV3) (pin 2))
      (node (ref OK-PV2) (pin 1)))
    (net (code 53) (name /CON_PV)
      (node (ref R-PV3) (pin 1))
      (node (ref STM32) (pin 25)))
    (net (code 54) (name "Net-(OK-PV2-Pad3)")
      (node (ref OK-PV2) (pin 3))
      (node (ref TR-PV1) (pin G))
      (node (ref R-PV4) (pin 1)))
    (net (code 55) (name "Net-(D-PV1-Pad2)")
      (node (ref TR-PV1) (pin D))
      (node (ref D-PV1) (pin 2)))
    (net (code 56) (name /CON_OUT)
      (node (ref R-OUT1) (pin 1))
      (node (ref STM32) (pin 26)))
    (net (code 57) (name "Net-(OK-OUT1-Pad1)")
      (node (ref R-OUT1) (pin 2))
      (node (ref OK-OUT1) (pin 1)))
    (net (code 58) (name /PC13)
      (node (ref PIN1) (pin 1))
      (node (ref STM32) (pin 2)))
    (net (code 59) (name /PC14)
      (node (ref STM32) (pin 3))
      (node (ref PIN1) (pin 2)))
    (net (code 60) (name /PC15)
      (node (ref PIN1) (pin 3))
      (node (ref STM32) (pin 4)))
    (net (code 61) (name "Net-(STM32-Pad5)")
      (node (ref STM32) (pin 5)))
    (net (code 62) (name "Net-(STM32-Pad6)")
      (node (ref STM32) (pin 6)))
    (net (code 63) (name +6V)
      (node (ref C_VOUT1) (pin 2))
      (node (ref BATT2) (pin 1))
      (node (ref BATT3) (pin 2))
      (node (ref OK-OUT1) (pin 3))
      (node (ref D-OUT2) (pin 2))
      (node (ref R-ADC-STM1) (pin 1))
      (node (ref C-OUT1) (pin 2))
      (node (ref IC-VOUT1) (pin 6))
      (node (ref IC-VOUT1) (pin 3))
      (node (ref D-VOUT1) (pin 2))
      (node (ref D-VOUT2) (pin 1))
      (node (ref U1) (pin 1))
      (node (ref U1) (pin 3)))
    (net (code 64) (name "Net-(D-VOUT1-Pad1)")
      (node (ref IC-VOUT1) (pin 2))
      (node (ref D-VOUT1) (pin 1))
      (node (ref L-VOUT1) (pin 2)))
    (net (code 65) (name "Net-(C_VOUT1-Pad1)")
      (node (ref P-OUT2) (pin 1))
      (node (ref P-OUT1) (pin 1))
      (node (ref IC-VOUT1) (pin 4))
      (node (ref L-VOUT1) (pin 1))
      (node (ref C_VOUT1) (pin 1))
      (node (ref D-OUT2) (pin 1)))
    (net (code 66) (name "Net-(U1-Pad4)")
      (node (ref U1) (pin 4)))
    (net (code 67) (name "Net-(P-OUT1-Pad2)")
      (node (ref P-OUT1) (pin 2)))
    (net (code 68) (name "Net-(P-OUT1-Pad3)")
      (node (ref P-OUT1) (pin 3)))
    (net (code 69) (name "Net-(IC-VOUT1-Pad5)")
      (node (ref IC-VOUT1) (pin 5))
      (node (ref OK-OUT1) (pin 4))
      (node (ref R-OUT2) (pin 2)))))